<main class="home">
  <!-- Hero Section -->
  <section class="hero-slideshow">
    <div class="slideshow">
      <img *ngFor="let img of slideshowImages; let i = index" [src]="img" [class.active]="i === currentSlide"
        class="slide-img" />
    </div>

    <div class="overlay-content">
      <div class="blur-card">
        <h1>{{ 'home.hero.title' | translate }}</h1>
        <p class="hero-subtitle">{{ 'home.hero.subtitle' | translate }}</p>
        <div class="hero-features">
          <div class="feature"><span>ğŸšš</span> {{ 'home.hero.feature_free_shipping' | translate }}</div>
          <div class="feature"><span>ğŸ›¡ï¸</span> {{ 'home.hero.feature_warranty' | translate }}</div>
          <div class="feature"><span>âš¡</span> {{ 'home.hero.feature_fast_shipping' | translate }}</div>
        </div>
        <button class="cta-btn" (click)="goToProducts()">{{ 'home.hero.cta' | translate }}</button>
      </div>
    </div>

  </section>


  <!-- Categories Section -->
  <section class="categories" *ngIf="categories.length > 0">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">{{ 'home.categories.title' | translate }}</h2>
        <p class="section-subtitle">{{ 'home.categories.subtitle' | translate }}</p>
      </div>
      <div class="categories-grid">
        <div class="category-card" *ngFor="let category of categories" (click)="goToCategory(category)">
          <div class="category-image">
            <img [src]="categoryImages[category.id] || 'https://via.placeholder.com/300x200?text=No+Image'"
              [alt]="category.name" style="width: 100%; height: 100%; object-fit: cover;" />

          </div>
          <div class="category-info">
            <h3>{{ category.name }}</h3>
            <p>{{ getCategoryCount(category.id) }} {{ 'home.categories.unit' | translate }}</p>
            <span class="category-arrow">â†’</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="featured-products">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">{{ 'home.featured.title' | translate }}</h2>
        <p class="section-subtitle">{{ 'home.featured.subtitle' | translate }}</p>
      </div>
      <div class="products-grid">

        <div class="product-card" *ngFor="let product of products">
          <div class="product-image">
            <img [src]="product.thumbnail" [alt]="product.name">
            <div class="product-badge" *ngIf="product.badge">{{ product.badge }}</div>
            <div class="product-overlay">
              <button class="quick-view-btn" (click)="onProductClick(product.id)">{{ 'home.featured.quick_view' |
                translate }}</button>
              <button class="wishlist-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                  </path>
                </svg>
              </button>
            </div>
          </div>
          <div class="product-info">
            <div class="product-brand">{{ getBrandName(product.brand_id) }}</div>
            <h3>{{ product.name }}</h3>
            <p class="product-description">{{ product.description }}</p>
            <div class="product-rating">
              <div class="stars">
                <span *ngFor="let star of getStars(product.rating ?? 0)" class="star">â˜…</span>
                <span *ngFor="let star of getStars(5-(product.rating ?? 0))" class="star empty">â˜†</span>
              </div>
              <span class="rating-text">({{ product.reviews }}ä»¶)</span>
            </div>
            <div class="product-price">
              <span class="current-price">Â¥{{ product.price | number }}</span>
              <span class="old-price" *ngIf="product.oldPrice">Â¥{{ product.oldPrice | number }}</span>
              <span class="discount" *ngIf="product.oldPrice">
                {{ getDiscountPercentage(product.price, product.oldPrice) }}%OFF
              </span>
            </div>
            <div class="product-actions">
              <button class="add-to-cart-btn" (click)="addToCart(product)">{{ 'home.featured.add_to_cart' | translate
                }}</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>


  <!-- Special Offer Banner -->
  <section class="special-offer-v2">
    <div class="container">
      <div class="offer-banner">
        <div class="offer-left">
          <img src="https://cdn.tgdd.vn/Files/2020/11/09/1305554/sale_800x450_800x450.jpg" alt="ã‚»ãƒ¼ãƒ«å•†å“"
            class="offer-image">
        </div>
        <div class="offer-right">
          <h2 class="offer-title">âš¡ {{ 'home.offer.title' | translate }}</h2>
          <p class="offer-description">{{ 'home.offer.description' | translate }}</p>
          <div class="countdown-timer">


            <div class="timer-unit">
              <span class="time">{{ countdown?.days || '00' }}</span>
              <span class="label">{{ 'home.offer.days' | translate }}</span>
            </div>
            <div class="timer-unit">
              <span class="time">{{ countdown?.hours || '00' }}</span>
              <span class="label">{{ 'home.offer.hours' | translate }}</span>
            </div>
            <div class="timer-unit">
              <span class="time">{{ countdown?.minutes || '00' }}</span>
              <span class="label">{{ 'home.offer.minutes' | translate }}</span>
            </div>
            <div class="timer-unit">
              <span class="time">{{ countdown?.seconds || '00' }}</span>
              <span class="label">{{ 'home.offer.seconds' | translate }}</span>
            </div>
          </div>

          <button class="cta-button">{{ 'home.offer.cta' | translate }}</button>
        </div>

      </div>
    </div>
  </section>




  <!-- Trust Indicators -->
  <section class="trust-indicators">
    <div class="container">
      <div class="trust-grid">
        <div class="trust-item">
          <div class="trust-icon">ğŸ†</div>
          <h4>{{ 'home.trust.quality_title' | translate }}</h4>
          <p>{{ 'home.trust.quality_desc' | translate }}</p>
        </div>
        <div class="trust-item">
          <div class="trust-icon">ğŸ”’</div>
          <h4>{{ 'home.trust.payment_title' | translate }}</h4>
          <p>{{ 'home.trust.payment_desc' | translate }}</p>

        </div>
        <div class="trust-item">
          <div class="trust-icon">ğŸ“</div>
          <h4>{{ 'home.trust.support_title' | translate }}</h4>
          <p>{{ 'home.trust.support_desc' | translate }}</p>

        </div>
        <div class="trust-item">
          <div class="trust-icon">ğŸš€</div>
          <h4>{{ 'home.trust.delivery_title' | translate }}</h4>
          <p>{{ 'home.trust.delivery_desc' | translate }}</p>
        </div>
      </div>
    </div>
  </section>
</main>