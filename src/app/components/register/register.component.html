

<div class="register-page">
    <div class="container">
      <div class="auth-layout">
    
        <!-- Right Side - Register Form -->
        <div class="auth-form-section">
          <div class="form-container">
            <div class="form-header">
              <h3>アカウント作成</h3>
              <p>必要事項をご入力ください</p>
            </div>

            <form class="auth-form" (ngSubmit)="register()" #registerForm="ngForm">
              <!-- Name Fields -->
              <div class="form-row">
                <div class="form-group">
                  <label>姓名 *</label>
                  <input 
                    type="text" 
                    [(ngModel)]="fullName" 
                    name="lastName"
                    placeholder="山田 / Yamada"
                    #fullNameModel="ngModel"
                    required
                  >
                  <span class="error-message" *ngIf="fullNameModel.touched && fullNameModel.errors?.['required']">
                    お名前は必須です
                  </span>
                </div>
                
              </div>

              <!-- Email -->
              <div class="form-group">
                <label>メールアドレス *</label>
                <div class="input-wrapper">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                  </svg>
                  <input 
                    type="email" 
                    [(ngModel)]="email" 
                    name="email"
                    placeholder="example@email.com"
                    #emailModel="ngModel"
                    required
                    email
                  >
                </div>
                <span class="error-message" *ngIf="emailModel.touched && emailModel.errors?.['required']">必須項目です</span>
                <span class="error-message" *ngIf="emailModel.touched && emailModel.errors?.['email']">メール形式が正しくありません</span>
              
              </div>

              <!-- Password Fields -->
              <div class="form-row">
                <div class="form-group">
                  <label>パスワード *</label>
                  <div class="input-wrapper">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                      <circle cx="12" cy="16" r="1"></circle>
                      <path d="M7 11V7a5 5 0 0110 0v4"></path>
                    </svg>
                    <input 
                      [type]="passwordVisible ? 'text' : 'password'" 
                      [(ngModel)]="password" 
                      name="password"
                      #pwdModel="ngModel"
                      required
                      minlength="6"
                      placeholder="6文字以上"
                      (ngModelChange)="validateConfirm(confirmPwdModel)"
                    >
                    <button 
                      type="button" 
                      class="password-toggle"
                      (click)="togglePassword()"
                    >
                      <svg *ngIf="!passwordVisible" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                      </svg>
                      <svg *ngIf="passwordVisible" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"></path>
                        <line x1="1" y1="1" x2="23" y2="23"></line>
                      </svg>
                    </button>
                  </div>
                    <span class="error-message" *ngIf="pwdModel.touched && pwdModel.errors?.['required']">必須項目です</span>
                    <span class="error-message" *ngIf="pwdModel.touched && pwdModel.errors?.['minlength']">6文字以上必要です</span>
                </div>
                <div class="form-group">
                  <label>パスワード確認 *</label>
                  <div class="input-wrapper">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                      <circle cx="12" cy="16" r="1"></circle>
                      <path d="M7 11V7a5 5 0 0110 0v4"></path>
                    </svg>
                    <input 
                      [type]="confirmPasswordVisible ? 'text' : 'password'" 
                      [(ngModel)]="retypePassword" 
                      name="confirmPassword"
                      placeholder="パスワードを再入力"
                      required
                      #confirmPwdModel="ngModel"
                      minlength="6"
                      (ngModelChange)="validateConfirm(confirmPwdModel)"
                     
                    >
                    
                    <button 
                      type="button" 
                      class="password-toggle"
                      (click)="toggleConfirmPassword()"
                    >
                      <svg *ngIf="!confirmPasswordVisible" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                      </svg>
                      <svg *ngIf="confirmPasswordVisible" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"></path>
                        <line x1="1" y1="1" x2="23" y2="23"></line>
                      </svg>
                    </button>
                  </div>
                    <span class="error-message" *ngIf="confirmPwdModel.touched && confirmPwdModel.errors?.['required']">必須項目です</span>
                    <span class="error-message" *ngIf="confirmPwdModel.touched && confirmPwdModel.errors?.['PasswordMismatch']">パスワードが一致しません</span>
    
                  
                </div>
              </div>

              <!-- Phone and Birth Date -->
              <div class="form-row">
                <div class="form-group">
                  <label>電話番号</label>
                  <div class="input-wrapper">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path>
                    </svg>
                    <input 
                      type="tel" 
                      [(ngModel)]="phoneNumber" 
                      name="phone"
                      #phoneModel="ngModel"
                      placeholder="090-1234-5678"
                      pattern="^(\d{10,11}|\d{2,4}-\d{2,4}-\d{3,4})$"
                    >
                  </div>
                  <span class="error-message" *ngIf="phoneModel.touched && phoneModel.errors?.['pattern']">
                    数字またはハイフンを含む10–11桁で入力してください
                  </span>
                
                </div>
                <div class="form-group">
                  <label>生年月日</label>
                  <input 
                    type="date" 
                    [(ngModel)]="dateOfBirth" 
                    name="birthDate"
                    #birthModel="ngModel"
                    (ngModelChange)="validateAge(birthModel)"
                  >
                  <span class="error-message" *ngIf="birthModel.touched && birthModel.errors?.['invalidAge']">
                    12歳未満は登録できません
                  </span>
                </div>
                
              </div>

              <!-- Gender -->
              <!--<div class="form-group">
                <label>性別</label>
                <div class="radio-group">
                  <label class="radio-option">
                    <input type="radio" [(ngModel)]="registerForm.gender" name="gender" value="male">
                    <span class="radio-mark"></span>
                    <span>男性</span>
                  </label>
                  <label class="radio-option">
                    <input type="radio" [(ngModel)]="registerForm.gender" name="gender" value="female">
                    <span class="radio-mark"></span>
                    <span>女性</span>
                  </label>
                  <label class="radio-option">
                    <input type="radio" [(ngModel)]="registerForm.gender" name="gender" value="other">
                    <span class="radio-mark"></span>
                    <span>その他</span>
                  </label>
                </div>
              </div>-->

              <!-- Agreements -->
              <div class="form-group">
                <label class="checkbox-wrapper required">
                  <input type="checkbox"  name="agreeToTerms"  required>
                  <span class="checkmark"></span>
                  <span class="checkbox-text">
                    <a href="#" class="terms-link">利用規約</a>および<a href="#" class="terms-link">プライバシーポリシー</a>に同意する *
                  </span>
                </label>
                
              </div>

              <div class="form-group">
                <label class="checkbox-wrapper">
                  <input type="checkbox"  name="agreeToNewsletter">
                  <span class="checkmark"></span>
                  <span class="checkbox-text">
                    メールニュースレターの配信を希望する
                  </span>
                </label>
              </div>

              <button 
                type="submit" 
                class="submit-btn"
                [disabled]="!registerForm.form.valid || isLoading"
              >
                <span *ngIf="!isLoading">アカウントを作成</span>
                <span *ngIf="isLoading" class="loading-spinner">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12a9 9 0 11-6.219-8.56"></path>
                  </svg>
                  作成中...
                </span>
              </button>

              <div class="divider">
                <span>または</span>
              </div>

              <div class="social-login">
                <button type="button" class="social-btn google" >
                  <svg width="18" height="18" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                  </svg>
                  Googleで登録
                </button>
                
              </div>
            </form>

            <div class="form-footer">
              <p>
                すでにアカウントをお持ちの方は
                <a  class="login-link" (click)="login()">ログイン</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>